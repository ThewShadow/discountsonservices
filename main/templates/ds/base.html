{% load static %}
{% load i18n %}
<!DOCTYPE html>
<html lang="en">
<head>
	{% block title %}

	{% endblock%}
	<meta charset="UTF-8">
	<meta name="format-detection" content="telephone=no">
	<link rel="stylesheet" href="{% static 'css/style.css' %} ">
	<link rel="shortcut icon" href="{% static 'img/favicon.ico' %}">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<body>
	<div class="wrapper">
		<header class="header">
	<div class="container">
		<div class="header__body">
			<a href="{% url 'index' %}" class="header__logo">
				<img src="{% static 'img/icons/logo.png' %}" alt="logo" />
				<span>DiscountsOnServices</span>
			</a>

			<div class="header__content">

				<a href="account.html" class="header__btn-account">
					<span>
						<svg class="svg-icon" width="12" height="15" viewBox="0 0 12 15" fill="none"
							xmlns="http://www.w3.org/2000/svg">
							<path
								d="M0.666504 14.6665C0.666504 13.252 1.22841 11.8955 2.2286 10.8953C3.2288 9.89507 4.58535 9.33317 5.99984 9.33317C7.41433 9.33317 8.77088 9.89507 9.77107 10.8953C10.7713 11.8955 11.3332 13.252 11.3332 14.6665H9.99984C9.99984 13.6056 9.57841 12.5882 8.82827 11.8381C8.07812 11.0879 7.0607 10.6665 5.99984 10.6665C4.93897 10.6665 3.92156 11.0879 3.17141 11.8381C2.42126 12.5882 1.99984 13.6056 1.99984 14.6665H0.666504ZM5.99984 8.6665C3.78984 8.6665 1.99984 6.8765 1.99984 4.6665C1.99984 2.4565 3.78984 0.666504 5.99984 0.666504C8.20984 0.666504 9.99984 2.4565 9.99984 4.6665C9.99984 6.8765 8.20984 8.6665 5.99984 8.6665ZM5.99984 7.33317C7.47317 7.33317 8.6665 6.13984 8.6665 4.6665C8.6665 3.19317 7.47317 1.99984 5.99984 1.99984C4.5265 1.99984 3.33317 3.19317 3.33317 4.6665C3.33317 6.13984 4.5265 7.33317 5.99984 7.33317Z"
								fill="#fff" />
						</svg>
					</span>
					Account
				</a>

				<nav class="menu">
					<ul class="menu__list">
						<li class="submenu-block submenu-block__services">
							<div class="submenu-block__head">
								Subscriptions
								<svg xmlns="http://www.w3.org/2000/svg" width="8" height="4" fill="none"
									viewBox="0 0 8 4">
									<path fill="#333" d="M4 2.586 6.475.111l.707.707L4 4 .818.818l.707-.707L4 2.586Z" />
								</svg>
							</div>
							<ul>
								{% for item in all_products %}
								<li>
									<a href="{% url 'offers_redirect' item.slug %}" class="menu__link">{{ item.name }}</a>
								</li>
								{% endfor %}
							</ul>
						</li>
						<li>
							<svg width="20" height="18" viewBox="0 0 20 18" fill="none"
								xmlns="http://www.w3.org/2000/svg">
								<path
									d="M17.2727 17.0839C17.2727 17.3269 17.177 17.5599 17.0065 17.7317C16.836 17.9035 16.6047 18 16.3636 18H3.63636C3.39526 18 3.16403 17.9035 2.99354 17.7317C2.82305 17.5599 2.72727 17.3269 2.72727 17.0839V8.83893H0L9.38818 0.238515C9.55556 0.0850471 9.77371 0 10 0C10.2263 0 10.4444 0.0850471 10.6118 0.238515L20 8.83893H17.2727V17.0839ZM7.27273 7.92282V13.4195H12.7273V7.92282H7.27273ZM9.09091 9.75504H10.9091V11.5873H9.09091V9.75504Z"
									fill="#9C99AD" />
							</svg>
							<a href="{% url 'index' %}" class="menu__link menu__link_home">Home</a>
						</li>
						<li>

							<svg width="20" height="20" viewBox="0 0 20 20" fill="none"
								xmlns="http://www.w3.org/2000/svg">
								<path
									d="M10 20C4.477 20 0 15.523 0 10C0 4.477 4.477 0 10 0C15.523 0 20 4.477 20 10C20 15.523 15.523 20 10 20ZM9 13V15H11V13H9ZM11 11.355C11.8037 11.1128 12.4936 10.59 12.9442 9.88174C13.3947 9.17353 13.5759 8.32705 13.4547 7.49647C13.3336 6.66588 12.9181 5.90644 12.284 5.35646C11.6499 4.80647 10.8394 4.50254 10 4.5C9.19085 4.49994 8.40666 4.78015 7.78079 5.29299C7.15492 5.80583 6.72601 6.51963 6.567 7.313L8.529 7.706C8.58468 7.42743 8.71832 7.1704 8.91437 6.96482C9.11042 6.75923 9.36081 6.61354 9.63643 6.54471C9.91204 6.47587 10.2015 6.48671 10.4712 6.57597C10.7409 6.66523 10.9797 6.82924 11.1598 7.04891C11.34 7.26858 11.454 7.53489 11.4887 7.81684C11.5234 8.0988 11.4773 8.3848 11.3558 8.64158C11.2343 8.89837 11.0423 9.11536 10.8023 9.26733C10.5623 9.4193 10.2841 9.49998 10 9.5C9.73478 9.5 9.48043 9.60536 9.29289 9.79289C9.10536 9.98043 9 10.2348 9 10.5V12H11V11.355Z"
									fill="#9C99AD" />
							</svg>
							<a href="{% url 'faq_list' %}" class="menu__link">FAQ</a>
						</li>
						<li>
							<svg width="18" height="20" viewBox="0 0 18 20" fill="none"
								xmlns="http://www.w3.org/2000/svg">
								<path
									d="M17 20H1C0.734784 20 0.48043 19.8946 0.292893 19.7071C0.105357 19.5196 0 19.2652 0 19V6H18V19C18 19.2652 17.8946 19.5196 17.7071 19.7071C17.5196 19.8946 17.2652 20 17 20ZM18 4H0V1C0 0.734784 0.105357 0.48043 0.292893 0.292893C0.48043 0.105357 0.734784 0 1 0H17C17.2652 0 17.5196 0.105357 17.7071 0.292893C17.8946 0.48043 18 0.734784 18 1V4ZM4 9V13H8V9H4ZM4 15V17H14V15H4ZM10 10V12H14V10H10Z"
									fill="#9C99AD" />
							</svg>
							<a href="{% url 'support' %}" class="menu__link">Support</a>
						</li>
						<li>

							<svg width="16" height="16" viewBox="0 0 16 16" fill="none"
								xmlns="http://www.w3.org/2000/svg">
								<path
									d="M0 8.88889H7.11111V0H0V8.88889ZM0 16H7.11111V10.6667H0V16ZM8.88889 16H16V7.11111H8.88889V16ZM8.88889 0V5.33333H16V0H8.88889Z"
									fill="#9C99AD" />
							</svg>
							<a href="{% url 'about_us' %}" class="menu__link">About</a>
						</li>
					</ul>
				</nav>


				<ul class="header__mobile-services">
					<li>
						<a href="get-netflix.html" class="menu__link">Netflix</a>
					</li>
					<li>
						<a href="get-youtube.html" class="menu__link">YouTube Premium</a>
					</li>
					<li>
						<a href="get-spotify.html" class="menu__link">Spotify</a>
					</li>
				</ul>


				<div class="header__auth">
					<a href="##" class="header__login btn btn-wh">Login</a>
					<a href="##" class="header__sing-up btn btn-blue">Sign up</a>
					<a href="##" class="header__logout">
						<svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path
								d="M1 20C0.734784 20 0.48043 19.8946 0.292893 19.7071C0.105357 19.5196 0 19.2652 0 19V1C0 0.734784 0.105357 0.48043 0.292893 0.292893C0.48043 0.105357 0.734784 0 1 0H15C15.2652 0 15.5196 0.105357 15.7071 0.292893C15.8946 0.48043 16 0.734784 16 1V4H14V2H2V18H14V16H16V19C16 19.2652 15.8946 19.5196 15.7071 19.7071C15.5196 19.8946 15.2652 20 15 20H1ZM14 14V11H7V9H14V6L19 10L14 14Z"
								fill="#333333" />
						</svg>
						Log out
					</a>
				</div>
				<div class="header__lang-socials">
					<div class="header__socials socials">
						<a href="##">
							<svg xmlns="http://www.w3.org/2000/svg" width="27" height="27" fill="none"
								viewBox="0 0 27 27">
								<path fill="#333"
									d="m.005 26.667 1.803-6.624A13.272 13.272 0 0 1 0 13.333C0 5.97 5.97 0 13.333 0c7.364 0 13.334 5.97 13.334 13.333 0 7.364-5.97 13.334-13.334 13.334a13.272 13.272 0 0 1-6.706-1.807L.005 26.667Zm8.516-19.59c-.172.011-.34.056-.494.134a1.724 1.724 0 0 0-.392.304c-.16.15-.251.281-.348.408a3.639 3.639 0 0 0-.754 2.237c.003.653.174 1.29.44 1.884.546 1.203 1.443 2.476 2.628 3.656.286.284.564.57.864.835a12.596 12.596 0 0 0 5.12 2.728l.759.116c.247.013.493-.006.741-.018.389-.02.768-.125 1.111-.308.221-.117.325-.176.51-.293 0 0 .058-.037.167-.12.18-.133.291-.228.44-.384.111-.115.207-.25.28-.403.104-.217.208-.632.251-.977.032-.264.023-.408.019-.497-.006-.143-.124-.291-.254-.354l-.776-.348s-1.16-.505-1.868-.828a.664.664 0 0 0-.236-.054.642.642 0 0 0-.504.169v-.003c-.006 0-.096.076-1.06 1.244a.466.466 0 0 1-.49.174 1.906 1.906 0 0 1-.255-.088c-.165-.07-.223-.096-.336-.146l-.007-.002a8.016 8.016 0 0 1-2.093-1.334c-.168-.146-.324-.306-.484-.461a8.4 8.4 0 0 1-1.36-1.69l-.079-.127a1.23 1.23 0 0 1-.136-.274c-.05-.196.082-.353.082-.353s.324-.355.474-.547a5.71 5.71 0 0 0 .351-.497c.157-.253.207-.513.124-.715-.373-.912-.76-1.82-1.157-2.721-.079-.179-.312-.307-.524-.332a5.91 5.91 0 0 0-.216-.021 4.512 4.512 0 0 0-.538.005v.001Z" />
							</svg>
						</a>
						<a href="##">
							<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"
								viewBox="0 0 28 28">
								<path fill="#333"
									d="M14 27.333C6.636 27.333.667 21.363.667 14 .667 6.636 6.637.666 14 .666c7.364 0 13.333 5.97 13.333 13.334S21.364 27.333 14 27.333ZM9.853 15.56l.018-.01 1.16 3.827c.15.415.354.49.604.455.25-.034.382-.168.546-.326l1.584-1.53 3.4 2.517c.622.343 1.068.165 1.223-.576l2.21-10.43c.243-.97-.183-1.36-.937-1.05L6.684 13.45c-.885.355-.88.851-.16 1.071l3.33 1.04v-.001Z" />
							</svg>
						</a>
					</div>

					<form action="{% url 'set_language' %}" method="post" >
      						{% csrf_token %}
      						<input name="next" type="hidden" value="{{ request.get_full_path|slice:'3:' }}" />
							<select name="language" class="select">
								{% get_current_language as LANGUAGE_CODE %}
							    {% get_available_languages as LANGUAGES %}
							    {% get_language_info_list for LANGUAGES as languages %}
							    {% for language in languages %}
									<option
											value="{{ language.code|upper }}"{% if language.code == LANGUAGE_CODE %}
											selected="selected"{% endif %}>
										{{ language.code|upper }}
									</option>
								{% endfor %}
							</select>
						</form>
				</div>





				<div class="header__account">
					{% if not request.user.is_authenticated %}
					<a href="#" class="header__btn-login btn btn-blue login-link"">Log in</a>
					{% else %}
					<div class="header__btn-profile submenu-block">
						<div class="submenu-block__head">
							Profile
							<svg xmlns="http://www.w3.org/2000/svg" width="8" height="4" fill="none" viewBox="0 0 8 4">
								<path fill="#333" d="M4 2.586 6.475.111l.707.707L4 4 .818.818l.707-.707L4 2.586Z" />
							</svg>
						</div>
						<ul>
							<li>
								<span>
									<svg class="svg-icon" width="12" height="15" viewBox="0 0 12 15" fill="none"
										xmlns="http://www.w3.org/2000/svg">
										<path
											d="M0.666504 14.6665C0.666504 13.252 1.22841 11.8955 2.2286 10.8953C3.2288 9.89507 4.58535 9.33317 5.99984 9.33317C7.41433 9.33317 8.77088 9.89507 9.77107 10.8953C10.7713 11.8955 11.3332 13.252 11.3332 14.6665H9.99984C9.99984 13.6056 9.57841 12.5882 8.82827 11.8381C8.07812 11.0879 7.0607 10.6665 5.99984 10.6665C4.93897 10.6665 3.92156 11.0879 3.17141 11.8381C2.42126 12.5882 1.99984 13.6056 1.99984 14.6665H0.666504ZM5.99984 8.6665C3.78984 8.6665 1.99984 6.8765 1.99984 4.6665C1.99984 2.4565 3.78984 0.666504 5.99984 0.666504C8.20984 0.666504 9.99984 2.4565 9.99984 4.6665C9.99984 6.8765 8.20984 8.6665 5.99984 8.6665ZM5.99984 7.33317C7.47317 7.33317 8.6665 6.13984 8.6665 4.6665C8.6665 3.19317 7.47317 1.99984 5.99984 1.99984C4.5265 1.99984 3.33317 3.19317 3.33317 4.6665C3.33317 6.13984 4.5265 7.33317 5.99984 7.33317Z"
											fill="#333333" />
									</svg>
								</span>
								<a href="{% url 'profile' %}">My profile</a>
							</li>
							<li>
								<span>
									<svg width="19" height="20" viewBox="0 0 19 20" fill="none"
										xmlns="http://www.w3.org/2000/svg">
										<path
											d="M1 20C0.734784 20 0.48043 19.8946 0.292893 19.7071C0.105357 19.5196 0 19.2652 0 19V1C0 0.734784 0.105357 0.48043 0.292893 0.292893C0.48043 0.105357 0.734784 0 1 0H15C15.2652 0 15.5196 0.105357 15.7071 0.292893C15.8946 0.48043 16 0.734784 16 1V4H14V2H2V18H14V16H16V19C16 19.2652 15.8946 19.5196 15.7071 19.7071C15.5196 19.8946 15.2652 20 15 20H1ZM14 14V11H7V9H14V6L19 10L14 14Z"
											fill="#333333" />
									</svg>

								</span>
								<a href="{% url 'logout' %}">Logout</a>
							</li>
						</ul>
					</div>
					{% endif %}
				</div>

			</div>

			<div class="btn-menu">
				<span></span>
				<span></span>
				<span></span>
			</div>
		</div>
	</div>
</header>

	<main>
		{% block main %}
		{% endblock %}
	</main>

<footer class="footer">
	<div class="container">
		<div class="footer__body">
			<div class="footer__nav">
				<div class="footer__logo">
					<a href="{% url 'index' %}"><span>DiscountsOnServices</span></a>
					<p>It's simple, fast and economical</p>
				</div>
				<div class="footer__links">
					<ul>
						<li class="footer__links-title">Subscriptions</li>
						{% for item in all_products %}
							<li><a href="{% url 'offers_redirect' item.slug %}">{{ item.name }}</a></li>
						{% endfor %}
					</ul>
					<ul>
						<li class="footer__links-title">Site navigation</li>
						<li><a href="{% url 'about_us' %}">About</a></li>
						<li><a href="{% url 'faq_list' %}">FAQ</a></li>
						<li><a href="{% url 'support' %}">Support</a></li>
					</ul>
				</div>
				<div class="footer__socials-wrap">
					<div class="footer__socials socials">
						<a href="##">
							<svg xmlns="http://www.w3.org/2000/svg" width="27" height="27" fill="none"
								viewBox="0 0 27 27">
								<path fill="#fff"
									d="m.005 26.667 1.803-6.624A13.272 13.272 0 0 1 0 13.333C0 5.97 5.97 0 13.333 0c7.364 0 13.334 5.97 13.334 13.333 0 7.364-5.97 13.334-13.334 13.334a13.272 13.272 0 0 1-6.706-1.807L.005 26.667Zm8.516-19.59c-.172.011-.34.056-.494.134a1.724 1.724 0 0 0-.392.304c-.16.15-.251.281-.348.408a3.639 3.639 0 0 0-.754 2.237c.003.653.174 1.29.44 1.884.546 1.203 1.443 2.476 2.628 3.656.286.284.564.57.864.835a12.596 12.596 0 0 0 5.12 2.728l.759.116c.247.013.493-.006.741-.018.389-.02.768-.125 1.111-.308.221-.117.325-.176.51-.293 0 0 .058-.037.167-.12.18-.133.291-.228.44-.384.111-.115.207-.25.28-.403.104-.217.208-.632.251-.977.032-.264.023-.408.019-.497-.006-.143-.124-.291-.254-.354l-.776-.348s-1.16-.505-1.868-.828a.664.664 0 0 0-.236-.054.642.642 0 0 0-.504.169v-.003c-.006 0-.096.076-1.06 1.244a.466.466 0 0 1-.49.174 1.906 1.906 0 0 1-.255-.088c-.165-.07-.223-.096-.336-.146l-.007-.002a8.016 8.016 0 0 1-2.093-1.334c-.168-.146-.324-.306-.484-.461a8.4 8.4 0 0 1-1.36-1.69l-.079-.127a1.23 1.23 0 0 1-.136-.274c-.05-.196.082-.353.082-.353s.324-.355.474-.547a5.71 5.71 0 0 0 .351-.497c.157-.253.207-.513.124-.715-.373-.912-.76-1.82-1.157-2.721-.079-.179-.312-.307-.524-.332a5.91 5.91 0 0 0-.216-.021 4.512 4.512 0 0 0-.538.005v.001Z" />
							</svg>
						</a>
						<a href="##">
							<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"
								viewBox="0 0 28 28">
								<path fill="#fff"
									d="M14 27.333C6.636 27.333.667 21.363.667 14 .667 6.636 6.637.666 14 .666c7.364 0 13.333 5.97 13.333 13.334S21.364 27.333 14 27.333ZM9.853 15.56l.018-.01 1.16 3.827c.15.415.354.49.604.455.25-.034.382-.168.546-.326l1.584-1.53 3.4 2.517c.622.343 1.068.165 1.223-.576l2.21-10.43c.243-.97-.183-1.36-.937-1.05L6.684 13.45c-.885.355-.88.851-.16 1.071l3.33 1.04v-.001Z" />
							</svg>
						</a>
					</div>
					<div class="footer__lang">
						<form id="change-language-form" action="{% url 'set_language' %}" method="post" >
      						{% csrf_token %}
      						<input name="next" type="hidden" value="{{ request.get_full_path|slice:'3:' }}" />
							<select name="language" class="select" id="language-select">
								{% get_current_language as LANGUAGE_CODE %}
							    {% get_available_languages as LANGUAGES %}
							    {% get_language_info_list for LANGUAGES as languages %}
							    {% for language in languages %}
									<option
											value="{{ language.code|upper }}"{% if language.code == LANGUAGE_CODE %}
											selected="selected"{% endif %}>
										{{ language.code|upper }}
									</option>
								{% endfor %}
							</select>
						</form>
					</div>
				</div>
			</div>
			<div class="footer__copyright">
				<p><a href="##">Privacy Policy</a></p>
				<p>Copyright 2021 © All Rights Reserved</p>
				<p>Developed by ....</p>
			</div>
		</div>
	</div>
</footer>
	</div>

	<div id="popup_1" class="popup">
		<div class="popup__body">
			<div class="popup__overlay"></div>
			<div class="popup__content">
				<a href="#header" class="popup__btn-close">
					<svg width="14" height="14" viewBox="0 0 14 14" fill="none"
						xmlns="http://www.w3.org/2000/svg">
						<path
							d="M6.99974 5.58574L11.9497 0.635742L13.3637 2.04974L8.41374 6.99974L13.3637 11.9497L11.9497 13.3637L6.99974 8.41374L2.04974 13.3637L0.635742 11.9497L5.58574 6.99974L0.635742 2.04974L2.04974 0.635742L6.99974 5.58574Z"
							fill="#3A3A3C" />
					</svg>
				</a>

				<div>
					<h2 class="popup__title">Log in</h2>
					<p class="popup__note">
						<span>New user?</span>
						<a href="#" class="register-link">Create an account</a>
					</p>
				</div>

				<div class="popup__inputs">
					<form id="login-form" method="post">
						{% csrf_token %}
						<div class="popup__input-block">
							<p>Email Address</p>
							{{ login_form.email }}
							<div class="email_errors"></div>
						</div>
						<div class="popup__input-block popup__input-password">
							<button class="toggle-show hide"></button>
							<p>Password</p>
							{{ login_form.password }}
							<div class="password_errors"></div>
						</div>
						<span class="message"></span>
					</form>

				</div>
				<div class="popup__buttons-row">
					<a href="##" class="popup__forgot-pasw">Forfot password?</a>
					<a href="#" class="popup__btn-blue popup__btn-login login-button" tabindex="3">Log in</a>
				</div>
				<div class="sign-with">
					<div class="sign-with__title"> <span>Or sign in with</span></div>
					<div class="sign-with__socials">
						<a class="sign-with__elem" href="{% url "social:begin" "google-oauth2" %}"></a>
						<div class="sign-with__elem"></div>
						<div class="sign-with__elem"></div>

					</div>
				</div>
				<div class="popup__captcha">
					Protected by reCAPTCHA and subject to the Google <a href="##">Privacy Policy</a> and
					<a href="##">Terms of Service</a>
				</div>
			</div>
		</div>
	</div>


	<div id="popup_2" class="popup">
		<div class="popup__body">
			<div class="popup__overlay"></div>
			<div class="popup__content">
				<a href="#header" class="popup__btn-close">
					<svg width="14" height="14" viewBox="0 0 14 14" fill="none"
						xmlns="http://www.w3.org/2000/svg">
						<path
							d="M6.99974 5.58574L11.9497 0.635742L13.3637 2.04974L8.41374 6.99974L13.3637 11.9497L11.9497 13.3637L6.99974 8.41374L2.04974 13.3637L0.635742 11.9497L5.58574 6.99974L0.635742 2.04974L2.04974 0.635742L6.99974 5.58574Z"
							fill="#3A3A3C" />
					</svg>
				</a>

				<div>
					<h2 class="popup__title">Create an account</h2>
					<p class="popup__note">
						<span>Already have an account?</span>
						<a class="login-link" href="#">Sign In</a>
					</p>
				</div>


				<div class="popup__inputs">
					<form id="registration-form">
						{% csrf_token %}
						<div class="popup__input-block">
							<p>User name</p>
							{{ register_form.username }}
							<div class="username_errors"></div>
						</div>
						<div class="popup__input-block">
							<p>Email Address</p>
							{{ register_form.email }}
							<div class="email_errors"></div>
						</div>
						<div class="popup__input-block popup__input-password">
							<button class="toggle-show hide"></button>
							<p>Password</p>
							{{ register_form.password }}
							<div class="password_errors"></div>
						</div>
						<span class="message"></span>
					</form>
				</div>

				<div class="popup__agree">
					<label>
						<input type="checkbox" name="agree" tabindex="4">
						<span></span>
					</label>
					<span>
						By creating an account you agree to our <a href="##">Privacy Policy</a> and
						<a href="##">Terms of Service.</a>
					</span>
				</div>
				<div>
					<button class="popup__btn-blue popup__btn-full register-button" tabindex="5">Sing up</button>
				</div>

				<div class="sign-with">
					<div class="sign-with__title"> <span>Or sign in with</span></div>
					<div class="sign-with__socials">
						<div class="sign-with__elem"></div>
						<div class="sign-with__elem"></div>
						<div class="sign-with__elem"></div>
					</div>
				</div>
			</div>
		</div>
	</div>


		<div id="popup_3" class="popup">
					<div class="popup__body">
						<div class="popup__overlay"></div>
						<div class="popup__content">
							<a href="#header" class="popup__btn-close">
								<svg width="14" height="14" viewBox="0 0 14 14" fill="none"
									xmlns="http://www.w3.org/2000/svg">
									<path
										d="M6.99974 5.58574L11.9497 0.635742L13.3637 2.04974L8.41374 6.99974L13.3637 11.9497L11.9497 13.3637L6.99974 8.41374L2.04974 13.3637L0.635742 11.9497L5.58574 6.99974L0.635742 2.04974L2.04974 0.635742L6.99974 5.58574Z"
										fill="#3A3A3C" />
								</svg>
							</a>

							<div>
								<h2 class="popup__title">Email verification</h2>
								<p class="popup__note">
									<span>Please enter the 6-digit verification code that was sent to name@gmail,com.
										The
										code
										is
										valid for 30 minutes.</span>

								</p>
							</div>

							<div class="popup__inputs popup__flex-block">
								<div class="popup__input-block popup__input-code">
									<form id="verify-email-form">
										{% csrf_token %}
										<span>Resent code</span>
										<p>Email verification code</p>
										{{ verify_email_form.verify_code }}
									</form>
									<span class="message"></span>
								</div>
							</div>

							<div>
								<button onclick="verify()" class="popup__btn-blue popup__btn-full" tabindex="2">Sing up</button>
							</div>

							<div>
								<a href="##" class="popup__not-code">Didn’t receive the code?</a>
							</div>


						</div>
					</div>
				</div>

				<div id="popup_4" class="popup">
					<div class="popup__body">
						<div class="popup__overlay"></div>
						<div class="popup__content">
							<a href="#header" class="popup__btn-close">
								<svg width="14" height="14" viewBox="0 0 14 14" fill="none"
									xmlns="http://www.w3.org/2000/svg">
									<path
										d="M6.99974 5.58574L11.9497 0.635742L13.3637 2.04974L8.41374 6.99974L13.3637 11.9497L11.9497 13.3637L6.99974 8.41374L2.04974 13.3637L0.635742 11.9497L5.58574 6.99974L0.635742 2.04974L2.04974 0.635742L6.99974 5.58574Z"
										fill="#3A3A3C" />
								</svg>
							</a>

							<div class="popup__flex-block">
								<h2 class="popup__title">Successful registration</h2>
								<p class="popup__note">
									<span>By optimizing our work and using internal tools, we were able to lower the
										prices
										while keeping the highest possible.</span>
								</p>
							</div>


							<div>
								<button class="popup__btn-blue popup__btn-full" tabindex="2">Continue work</button>
							</div>
						</div>
					</div>
				</div>


				<div id="popup_8" class="popup">
				    <div class="popup__body">
				        <div class="popup__overlay"></div>
				        <div class="popup__content">
				            <a href="#header" class="popup__btn-close">
				                <svg width="14" height="14" viewBox="0 0 14 14" fill="none"
				                    xmlns="http://www.w3.org/2000/svg">
				                    <path
				                        d="M6.99974 5.58574L11.9497 0.635742L13.3637 2.04974L8.41374 6.99974L13.3637 11.9497L11.9497 13.3637L6.99974 8.41374L2.04974 13.3637L0.635742 11.9497L5.58574 6.99974L0.635742 2.04974L2.04974 0.635742L6.99974 5.58574Z"
				                        fill="#3A3A3C" />
				                </svg>
				            </a>

				            <div>
				                <h2 class="popup__title">Subscription Application</h2>
				            </div>

				            <div class="popup__inputs">
				                <form id="subscription_app_form" action="POST">
				                    {% csrf_token %}
				                    <div class="popup__input-block">
				                        <p>Enter your name</p>
				                        {{ sub_create_form.user_name }}
																<div class="user_name_errors"></div>
				                    </div>
				                    <div class="popup__input-block">
				                        <p>Email Address</p>
				                        {{ sub_create_form.email }}
																<div class="email_errors"></div>
				                    </div>
				                    <div class="popup__input-block">
				                        <p>Phone</p>
				                        {{ sub_create_form.phone_number }}
																<div class="phone_number_errors"></div>
														</div>
														<p class="message"></p>
				                </form>
				            </div>

										<form id ="csrf_ajax_token">
												{% csrf_token %}
										</form>
				            <div>
				                <button class="popup__btn-blue popup__btn-full apply-button" tabindex="4">Apply</button>
				            </div>
				        </div>
				    </div>
				</div>


				<div id="popup_9" class="popup">
				    <div class="popup__body">
				        <div class="popup__overlay"></div>
				        <div class="popup__content">
				            <a href="#header" class="popup__btn-close">
				                <svg width="14" height="14" viewBox="0 0 14 14" fill="none"
				                    xmlns="http://www.w3.org/2000/svg">
				                    <path
				                        d="M6.99974 5.58574L11.9497 0.635742L13.3637 2.04974L8.41374 6.99974L13.3637 11.9497L11.9497 13.3637L6.99974 8.41374L2.04974 13.3637L0.635742 11.9497L5.58574 6.99974L0.635742 2.04974L2.04974 0.635742L6.99974 5.58574Z"
				                        fill="#3A3A3C" />
				                </svg>
				            </a>

				            <div>
				                <h3 class="popup__title">Purchase payment</h3>
				            </div>

				            <div class="popup__payment-type-row">
				                <button class="popup__btn-gpay"></button>
				                <button class="popup__btn-applepay"></button>
				            </div>

				            <div class="popup__inputs">
				                <div class="popup__input-block">
				                    <p class="fz15">Card Number</p>
				                    <input type="text" tabindex="1" placeholder="1234 1234 1234 1234">
				                </div>
				                <div class="popup__inputs-row">
				                    <div class="popup__input-block">
				                        <p class="fz15">Expiration Date</p>
				                        <input type="text" placeholder="MM/ГГ" tabindex="2">
				                    </div>
				                    <div class="popup__input-block">
				                        <p class="fz15">СVC</p>
				                        <input type="number" placeholder="СVC" tabindex="3">
				                    </div>
				                </div>
				            </div>

				            <div class="popup__buttons-col">
				                <button class="popup__btn-blue popup__btn-full">Pay with card</button>
				                <form id="paypal-form" action="https://www.sandbox.paypal.com/cgi-bin/webscr" method="post">
				                  <button type="submit" class="popup__btn-white popup__btn-full" name="submit" alt="Buy it Now"></button>
				                </form>
				                <p>We do not collect information on your cards, everything is safe</p>
				            </div>

				            <div class="popup__subtitle">Payment by crypto wallet</div>

				            <div class="popup__selects">
				                <div class="popup__select-block">
				                    <p>Select currency</p>
				                    <select name="type-payment" class="select">
				                        <option value="Bitckhain BTC network" selected>Bitckhain BTC network</option>
				                        <option value="value 2">value 2</option>
				                        <option value="value 3">value 3</option>
				                    </select>
				                </div>
				            </div>

				            <div>
				                <button class="popup__btn-blue popup__btn-full payment-button">Pay</button>
				            </div>
				        </div>
				    </div>
				</div>


	<script src="{% static 'js/script.js' %}"></script>
	<script src="{% static 'js/faq.js' %}"></script>
	<script src="{% static 'js/popup.js' %}"></script>

	<script>

		const loginPopUp = document.getElementById('popup_1');
		const RegistrationPopUp =  document.getElementById("popup_2");
		const VerifyPopUp =  document.getElementById("popup_3");
		const VerifySuccessPopUp =  document.getElementById("popup_4");
		const CreateSubsctiptionPopUp = document.getElementById('popup_8');
		const PaymentPopUp = document.getElementById('popup_9');

		$('.login-link').click(function (event){
			event.preventDefault();
			popupClose(RegistrationPopUp);
			popupOpen(loginPopUp)
		});

		$('.register-link').click(function (event){
			event.preventDefault();
			popupClose(loginPopUp)
			popupOpen(RegistrationPopUp);
		});

		$('.login-button').click(function (event){
			event.preventDefault();
			login();
		});

		$('.register-button').click(function (event){
			event.preventDefault();
			register();
		});

		$(".get-started-button").click(function (event){
			event.preventDefault();
			document.cookie = "offer_id=" + this.id;
			popupOpen(CreateSubsctiptionPopUp);
		});

		$(".apply-button").click(function (event) {
			 event.preventDefault()
			 createSubscription()

		});

		function login() {
			var form_id = "login-form";
			var register_form = $("#"+form_id).serializeArray();
			var json = getJson(register_form);

			$("#"+form_id+" .password_errors").empty();
			$("#"+form_id+" .email_errors").empty();
			$("#"+form_id+" .message").empty();

			$.post("accounts/login/", json)
			 .done(function (resp) {
				 if (resp['success']) {
					popupClose(loginPopUp);
					window.location.reload();
				}
				}).fail(function (resp) {
					showMessages(resp, form_id);
			  });
		}

		function register() {
			var form_id = "registration-form"
			var register_form = $("#"+form_id).serializeArray();
			var json = getJson(register_form);

			$("#"+form_id+" .password_errors").empty();
			$("#"+form_id+" .email_errors").empty();
			$("#"+form_id+" .username_errors").empty();
			$("#"+form_id+" .message").empty();

			$.post("accounts/registration/", json)
			 .done(function (resp) {
				if (resp['success']) {
					popupClose(RegistrationPopUp);
					popupOpen(VerifyPopUp);
				}
			}).fail(function (resp) {
				showMessages(resp, form_id);
			});
		}


		function verify() {

			var form_id = "verify-email-form"
			var register_form = $("#"+form_id).serializeArray();
			var json = getJson(register_form);
			$("#"+form_id+" .message").empty();

			$.post("accounts/verify_email/", json)
			 .done(function (resp) {
					if (resp['success']) {
						popupClose(VerifyPopUp);
						popupOpen(VerifySuccessPopUp);
					}
			}).fail(function (resp) {
					showMessages(resp)
			});
		}





	function createSubscription() {

		var form_id = "subscription_app_form";
	  var form = $('#subscription_app_form');
	  var data_array = form.serializeArray();
	  var json = getJson(data_array);

	  var offer_id = getCookie('offer_id');

		json['offer_id'] = offer_id;


		$("#"+form_id+" .email_errors").empty();
		$("#"+form_id+" .user_name_errors").empty();
		$("#"+form_id+" .phone_number_errors").empty();
		$("#"+form_id+" .message").empty();

		if (offer_id.length) {
	    $.post(
				"/ajax/subscriptions/create/", json
			).done(function (reps) {


					subscription_data = getJson($('#csrf_ajax_token').serializeArray());
	        subscription_data["sub_id"] = reps["sub_id"];


		      $.post(
							"/ajax/payments/paypal/create/",
							subscription_data
					).done(function (resp) {

							popupClose(CreateSubsctiptionPopUp);
							popupOpen(PaymentPopUp);
							
							$('#paypal-form').prepend(resp['paypal_porm'])

					}).fail(function (resp) {
							showMessages(resp, form_id);
					});
			}).fail(function (resp) {
				showMessages(resp, form_id);
			});
	}
}

	function showMessages(data, form_id) {
		var messages= undefined
		if (typeof data === "string") {
				 messages = jQuery.parseJSON(data["responseJSON"]);
		} else if (typeof data === "object") {
				 messages = data["responseJSON"];
		}



		if (messages["error_messages"] != undefined) {
			showErrorMessages(messages["error_messages"], form_id);
		}

		if (messages["message"] != undefined) {
			$("#"+form_id+" .message").append(messages["message"]);
		}
	}

	function showErrorMessages(messages, form_id) {

		const keys = Object.keys(messages);

		for (let i = 0; i < keys.length; i++) {
			const key = keys[i];
			var message_array= messages[key];
			$("#"+key+"_errors").empty();

			for (let i=0; i < message_array.length; i++) {
				let text = message_array[i];
				$("#"+form_id+" ."+key+"_errors").append(text);
			}
		}
	}


	function getCookie(cookieName) {
	  let cookie = {};
	  document.cookie.split(';').forEach(function(el) {
	    let [key,value] = el.split('=');
	    cookie[key.trim()] = value;
	  })
	  return cookie[cookieName];
	}


	function getJson(data_array) {
		var post_data = {};

		for (let i=0; i < data_array.length; i++) {
			prop = data_array[i];
			post_data[prop["name"]] = prop["value"];
		}
		return post_data;
	}

</script>

</body>

</html>
